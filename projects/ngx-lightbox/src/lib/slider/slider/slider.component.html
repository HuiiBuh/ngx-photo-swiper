<div *ngIf="sliderState" class="lightbox-slider-container"
     libTouchmove
     (hSwipe)="horizontalSwipe($event)"
     (vSwipe)="verticalSwipe($event)"
     [@openClose]="sliderState.slider.active ? 'open': 'close'"
     (@openClose.start)="display = 'block'"
     (@openClose.done)="sliderState.slider.active ? display = 'block' : display = 'none'"
     [ngStyle]="{display: display}"
>

  <div class="slider" #slider
       [@changeImage]="{value: animate, params: {startPosition: startPosition}}"
       (@changeImage.start)="hAnimationInProgress = true"
       (@changeImage.done)="changeImage()"
  >

    <lib-slider-image [sliderImages]="sliderState.imageRange"
                      [currentImageIndex]="sliderState.slider.imageIndex"></lib-slider-image>
    <lib-slider-image [sliderImages]="sliderState.imageRange"
                      [currentImageIndex]="sliderState.slider.imageIndex"></lib-slider-image>
    <lib-slider-image [sliderImages]="sliderState.imageRange"
                      [currentImageIndex]="sliderState.slider.imageIndex"></lib-slider-image>

  </div>

  <ng-template [ngIf]="controls">
    <ng-container *ngTemplateOutlet="controls"></ng-container>
  </ng-template>

</div>
