<div class="animation-components" #animationComponents>
  <img #animationImage>
  <div class="background-overlay" #animationOverlay></div>
</div>


<ng-container *ngIf="sliderState$ | async; let sliderState">

  <div
    (hSwipe)="horizontalSwipe($event)"
    (vSwipe)="verticalSwipe($event)"
    photoTouchmove
    class="lightbox-slider-container"
    #sliderWrapper
  >
    <div class="background-overlay" #sliderOverlay></div>


    <div class="slider" #slider>

      <photo-slider-image [currentImageIndex]="sliderState.slider.imageIndex"
                          [sliderImages]="sliderState.imageRange"></photo-slider-image>

      <photo-slider-image [currentImageIndex]="sliderState.slider.imageIndex"
                          [sliderImages]="sliderState.imageRange"></photo-slider-image>

      <photo-slider-image [currentImageIndex]="sliderState.slider.imageIndex"
                          [sliderImages]="sliderState.imageRange"></photo-slider-image>
    </div>

  </div>

  <div #controlsWrapper class="fade-out">
    <ng-container *ngIf="controls && sliderState.slider.active">
      <ng-container *ngTemplateOutlet="controls"></ng-container>
    </ng-container>
  </div>

</ng-container>
