<div (mousedown)="mouseDownStart = $event.timeStamp"
     (mouseup)="close($event)"
     class="index-{{getImageIndex()}} image-container">

  <div [ngStyle]="{bottom: captionHeight, right: right}" class="centered-image" #imageCenter *ngIf="currentImage">

    <img [style]="'display: ' + (!largeImageVisible && $any(currentImage).smallImage ? 'block': 'none')"
         [src]="$any(currentImage).smallImage"
         [alt]="currentImage.caption || currentImage.smallCaption"
         [ngStyle]="stretchConfig"
         (dragstart)="false"
         draggable="false"
    >

    <img [style]="'display:' + (largeImageVisible ? 'block': 'none')"
         [src]="currentImage?.imageSRC" [srcset]="currentImage.srcSet"
         [alt]="currentImage.caption || currentImage.smallCaption"
         [ngStyle]="stretchConfig"
         (load)="largeImageVisible = true"
         (dragstart)="false"
         draggable="false"
         #largeImage
    >
  </div>

  <div class="caption-container" #captionWrapper>
    <div class="caption">
      <div #caption></div>
      <small #smallCaption></small>
    </div>
  </div>

</div>

